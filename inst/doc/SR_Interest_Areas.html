<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="Vincent Porretta" />

<meta name="date" content="2016-09-27" />

<title>Relabeling Interest Areas or Defining New Post-hoc Interest Areas for SR Eyelink Data</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>



<link href="data:text/css;charset=utf-8,body%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Amargin%3A%201em%20auto%3B%0Amax%2Dwidth%3A%20700px%3B%0Aoverflow%3A%20visible%3B%0Apadding%2Dleft%3A%202em%3B%0Apadding%2Dright%3A%202em%3B%0Afont%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aline%2Dheight%3A%201%2E35%3B%0A%7D%0A%23header%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0A%23TOC%20%7B%0Aclear%3A%20both%3B%0Amargin%3A%200%200%2010px%2010px%3B%0Apadding%3A%204px%3B%0Awidth%3A%20400px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Aborder%2Dradius%3A%205px%3B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%201%2E3%3B%0A%7D%0A%23TOC%20%2Etoctitle%20%7B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dsize%3A%2015px%3B%0Amargin%2Dleft%3A%205px%3B%0A%7D%0A%23TOC%20ul%20%7B%0Apadding%2Dleft%3A%2040px%3B%0Amargin%2Dleft%3A%20%2D1%2E5em%3B%0Amargin%2Dtop%3A%205px%3B%0Amargin%2Dbottom%3A%205px%3B%0A%7D%0A%23TOC%20ul%20ul%20%7B%0Amargin%2Dleft%3A%20%2D2em%3B%0A%7D%0A%23TOC%20li%20%7B%0Aline%2Dheight%3A%2016px%3B%0A%7D%0Atable%20%7B%0Amargin%3A%201em%20auto%3B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dcolor%3A%20%23DDDDDD%3B%0Aborder%2Dstyle%3A%20outset%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0Aborder%2Dwidth%3A%202px%3B%0Apadding%3A%205px%3B%0Aborder%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dstyle%3A%20inset%3B%0Aline%2Dheight%3A%2018px%3B%0Apadding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0Aborder%2Dleft%2Dstyle%3A%20none%3B%0Aborder%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Ap%20%7B%0Amargin%3A%200%2E5em%200%3B%0A%7D%0Ablockquote%20%7B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Apadding%3A%200%2E25em%200%2E75em%3B%0A%7D%0Ahr%20%7B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%3A%20none%3B%0Aborder%2Dtop%3A%201px%20solid%20%23777%3B%0Amargin%3A%2028px%200%3B%0A%7D%0Adl%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Adl%20dd%20%7B%0Amargin%2Dbottom%3A%2013px%3B%0Amargin%2Dleft%3A%2013px%3B%0A%7D%0Adl%20dt%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Aul%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Aul%20li%20%7B%0Alist%2Dstyle%3A%20circle%20outside%3B%0A%7D%0Aul%20ul%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Apre%2C%20code%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0Acolor%3A%20%23333%3B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%20%0A%7D%0Apre%20%7B%0Aborder%2Dradius%3A%203px%3B%0Amargin%3A%205px%200px%2010px%200px%3B%0Apadding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0Afont%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0Apadding%3A%202px%200px%3B%0A%7D%0Adiv%2Efigure%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF%3B%0Apadding%3A%202px%3B%0Aborder%3A%201px%20solid%20%23DDDDDD%3B%0Aborder%2Dradius%3A%203px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Amargin%3A%200%205px%3B%0A%7D%0Ah1%20%7B%0Amargin%2Dtop%3A%200%3B%0Afont%2Dsize%3A%2035px%3B%0Aline%2Dheight%3A%2040px%3B%0A%7D%0Ah2%20%7B%0Aborder%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Apadding%2Dbottom%3A%202px%3B%0Afont%2Dsize%3A%20145%25%3B%0A%7D%0Ah3%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Afont%2Dsize%3A%20120%25%3B%0A%7D%0Ah4%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0Amargin%2Dleft%3A%208px%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Ah5%2C%20h6%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ccc%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%230033dd%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Acolor%3A%20%236666ff%3B%20%7D%0Aa%3Avisited%20%7B%0Acolor%3A%20%23800080%3B%20%7D%0Aa%3Avisited%3Ahover%20%7B%0Acolor%3A%20%23BB00BB%3B%20%7D%0Aa%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0Aa%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%20code%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%0A" rel="stylesheet" type="text/css" />

</head>

<body>




<h1 class="title toc-ignore">Relabeling Interest Areas or Defining New Post-hoc Interest Areas for SR Eyelink Data</h1>
<h4 class="author"><em>Vincent Porretta</em></h4>
<h4 class="date"><em>2016-09-27</em></h4>



<div id="basic-interest-area-relabelling" class="section level2">
<h2>Basic interest area relabelling</h2>
<div id="check-interest-area-coding" class="section level3">
<h3>Check interest area coding</h3>
<p>First, ensure that you have loaded your data appropriately and that you have already carried out initial preprocessing using the functions <code>prep_data</code> and <code>relabel_NA</code>. The subsequent preprocessing requires that the interest area IDs are numerically, ranging from 0 (i.e., outside all interest areas) up to a maximum of 8. So, itâ€™s important to check that the IDs present in the data set, conform to this. The <code>check_ia</code> functions does just this and indicates how those IDs are mapped to the interest area labels.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">check_ia</span>(<span class="dt">data =</span> checkdat)</code></pre></div>
<pre><code>## Interest Area IDs for the right eye are not between 0 and 8. Please recode.</code></pre>
<pre><code>##    ID   Label
## 1   0 Outside
## 2  11 Object1
## 3 399 Object3
## 4 234 Object2
## 5 444 Object4</code></pre>
<pre><code>## Interest Area IDs for the left eye are coded appropriately.</code></pre>
<pre><code>##   ID   Label
## 1  0 Outside</code></pre>
</div>
<div id="providing-new-labels-and-ids-for-existing-interest-areas" class="section level3">
<h3>Providing new labels and IDs for existing interest areas</h3>
<p>The function <code>recode_ia</code> can be used to relabel interest area IDs (if they do not conform) or interest area labels (if you desire different ones). New IDs and/or labels can be specified using a named character vector. The following code serves as an example. Note that if your interest area labels contain spaces you must also put the old names in quotes.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">newdat &lt;-<span class="st"> </span><span class="kw">recode_ia</span>(<span class="dt">data=</span>checkdat, <span class="dt">IDs=</span><span class="kw">c</span>(<span class="st">&quot;0&quot;</span>=<span class="st">&quot;0&quot;</span>, <span class="st">&quot;11&quot;</span>=<span class="st">&quot;1&quot;</span>, <span class="st">&quot;234&quot;</span>=<span class="st">&quot;2&quot;</span>, <span class="st">&quot;399&quot;</span>=<span class="st">&quot;3&quot;</span>,
                                         <span class="st">&quot;444&quot;</span>=<span class="st">&quot;4&quot;</span>), 
                        <span class="dt">Labels=</span><span class="kw">c</span>(<span class="dt">Outside=</span><span class="st">&quot;Outside&quot;</span>, <span class="dt">Object1=</span><span class="st">&quot;Target&quot;</span>, 
                                 <span class="dt">Object2=</span><span class="st">&quot;RhymeCompetitor&quot;</span>, <span class="dt">Object3=</span><span class="st">&quot;OnsetCompetitor&quot;</span>,
                                 <span class="dt">Object4=</span><span class="st">&quot;Distractor&quot;</span>))</code></pre></div>
<pre><code>## Right interest area IDs recoded.</code></pre>
<pre><code>## Left interest area IDs recoded.</code></pre>
<pre><code>## Right interest area labels recoded.</code></pre>
<pre><code>## Left interest area labels recoded.</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">check_ia</span>(<span class="dt">data =</span> newdat)</code></pre></div>
<pre><code>## Interest Area IDs for the right eye are coded appropriately.</code></pre>
<pre><code>##   ID           Label
## 1  0         Outside
## 2  1          Target
## 3  3 OnsetCompetitor
## 4  2 RhymeCompetitor
## 5  4      Distractor</code></pre>
<pre><code>## Interest Area IDs for the left eye are coded appropriately.</code></pre>
<pre><code>##   ID   Label
## 1  0 Outside</code></pre>
</div>
</div>
<div id="remapping-gaze-position-to-newly-defined-interest-areas" class="section level2">
<h2>Remapping gaze position to newly defined interest areas</h2>
<p>Sometimes it is necessary to make changes to the interest areas after data collection. This may be because it is of interest to examine some other aspect of looking patterns in the experiment, or a mistake was made when initially defining the interest areas in Experiment Builder. Because this can be a laborious task in Data Viewer, the following example shows how this redefinition and remapping can be done using functions provided in this package prior to completing the preprocessing of the data. In short, the function <code>custom_ia</code> uses a look-up table to determine if the gaze position coordinates fall within newly defined interest areas. For this you will need to create a look-up table containing the interest area definitions. Below are the steps that can be used to quickly create this table.</p>
<div id="creating-the-look-up-table" class="section level3">
<h3>Creating the look-up table</h3>
<p>The look-up table requires specific information. In particular, in needs the event (participant specific trial) for which the interest areas are defined, the label of the interest area, the numeric ID of the interest area, and the top, bottom, left, and right pixel boundaries of the interest area. The reason these need to be specified for each event is that it is common for interest areas to move depending on the item/trial. Creating this sounds like a lot of work, but can actually be accomplished straightforwardly from an interest area report output by Data Viewer (especially if you have included the locations in your data source).</p>
<p>So, first export an interest area report for your data as a tab-delimited text file, including all available columns (to ensure you get all the necessary columns as well as the ones you output from your data source). Import that into R.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(VWPre)
IAdat &lt;-<span class="st"> </span><span class="kw">read.table</span>(<span class="st">&quot;IAreport.txt&quot;</span>, <span class="dt">header =</span> T, <span class="dt">sep =</span> <span class="st">&quot;</span><span class="ch">\t</span><span class="st">&quot;</span>, <span class="dt">na.strings =</span> <span class="kw">c</span>(<span class="st">&quot;.&quot;</span>, <span class="st">&quot;NA&quot;</span>))</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(VWPre)
<span class="co">#data(IAdat)</span>
<span class="kw">load</span>(<span class="st">&quot;IAdat.rda&quot;</span>)</code></pre></div>
<p>You will notice that the data are organized so that there is one row per interest area for each trial.</p>
<table>
<thead>
<tr class="header">
<th align="right">RECORDING_SESSION_LABEL</th>
<th align="right">TRIAL_INDEX</th>
<th align="left">IA_LABEL</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">14001</td>
<td align="right">1</td>
<td align="left">Target</td>
</tr>
<tr class="even">
<td align="right">14001</td>
<td align="right">1</td>
<td align="left">RhymeComp</td>
</tr>
<tr class="odd">
<td align="right">14001</td>
<td align="right">1</td>
<td align="left">OnsetComp</td>
</tr>
<tr class="even">
<td align="right">14001</td>
<td align="right">1</td>
<td align="left">Distractor</td>
</tr>
<tr class="odd">
<td align="right">14001</td>
<td align="right">2</td>
<td align="left">Target</td>
</tr>
<tr class="even">
<td align="right">14001</td>
<td align="right">2</td>
<td align="left">RhymeComp</td>
</tr>
<tr class="odd">
<td align="right">14001</td>
<td align="right">2</td>
<td align="left">OnsetComp</td>
</tr>
<tr class="even">
<td align="right">14001</td>
<td align="right">2</td>
<td align="left">Distractor</td>
</tr>
<tr class="odd">
<td align="right">14001</td>
<td align="right">3</td>
<td align="left">Target</td>
</tr>
<tr class="even">
<td align="right">14001</td>
<td align="right">3</td>
<td align="left">RhymeComp</td>
</tr>
<tr class="odd">
<td align="right">14001</td>
<td align="right">3</td>
<td align="left">OnsetComp</td>
</tr>
<tr class="even">
<td align="right">14001</td>
<td align="right">3</td>
<td align="left">Distractor</td>
</tr>
</tbody>
</table>
<p>Next, create the Event column. Typically this is done using the Subject Identifier and Trial Index.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">IAdat$Event &lt;-<span class="st"> </span><span class="kw">interaction</span>(IAdat$RECORDING_SESSION_LABEL, IAdat$TRIAL_INDEX, <span class="dt">drop =</span> T)</code></pre></div>
<p>Next you need to create a column which indicates the location of each interest area for a specific trial. If you defined this in your data source and output all columns to the eye-tracking file, these should already be included in your interest area report. In the example below, the columns (NAME_reg) indicate a numeric index (in this case Cartesian quadrants) of where the target and other objects were located per trial. This information must be unified into a single column so that it can be used later to merge in other information.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dat1 &lt;-<span class="st"> </span>IAdat %&gt;%<span class="st"> </span><span class="kw">mutate</span>(<span class="dt">ScreenLoc =</span> <span class="kw">ifelse</span>(IA_LABEL==<span class="st">&quot;Target&quot;</span>, target_reg,
                        <span class="kw">ifelse</span>(IA_LABEL==<span class="st">&quot;RhymeComp&quot;</span>, rhymecomp_reg,
                               <span class="kw">ifelse</span>(IA_LABEL==<span class="st">&quot;OnsetComp&quot;</span>, onsetcomp_reg,
                                      <span class="kw">ifelse</span>(IA_LABEL==<span class="st">&quot;Distractor&quot;</span>, distractor_reg, <span class="ot">NA</span>))))
                  )</code></pre></div>
<p>To create the bounding boxes of the region locations, make a dataframe that includes the top, bottom, left, and right pixel boundaries. These will, of course, be dependent on the resolution of the screen used in the experiment.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Loc_Table &lt;-<span class="st"> </span>df1 &lt;-<span class="st"> </span><span class="kw">data_frame</span>(<span class="dt">ScreenLoc =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>), 
                               <span class="dt">Top =</span> <span class="kw">c</span>(<span class="dv">40</span>, <span class="dv">40</span>, <span class="dv">740</span>, <span class="dv">740</span>),
                               <span class="dt">Bottom =</span> <span class="kw">c</span>(<span class="dv">340</span>, <span class="dv">340</span>, <span class="dv">1040</span>, <span class="dv">1040</span>),
                               <span class="dt">Left =</span> <span class="kw">c</span>(<span class="dv">1160</span>, <span class="dv">460</span>, <span class="dv">460</span>, <span class="dv">1160</span>),
                               <span class="dt">Right =</span> <span class="kw">c</span>(<span class="dv">1460</span>, <span class="dv">760</span>, <span class="dv">760</span>, <span class="dv">1460</span>))</code></pre></div>
<p>The dataframe should look similar to the following.</p>
<table>
<thead>
<tr class="header">
<th align="right">ScreenLoc</th>
<th align="right">Top</th>
<th align="right">Bottom</th>
<th align="right">Left</th>
<th align="right">Right</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="right">40</td>
<td align="right">340</td>
<td align="right">1160</td>
<td align="right">1460</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="right">40</td>
<td align="right">340</td>
<td align="right">460</td>
<td align="right">760</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="right">740</td>
<td align="right">1040</td>
<td align="right">460</td>
<td align="right">760</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="right">740</td>
<td align="right">1040</td>
<td align="right">1160</td>
<td align="right">1460</td>
</tr>
</tbody>
</table>
<p>This table will be merged with the interest area report, matching by ScreenLoc column.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dat2 &lt;-<span class="st"> </span><span class="kw">inner_join</span>(dat1, Loc_Table, <span class="dt">by=</span><span class="st">&quot;ScreenLoc&quot;</span>)</code></pre></div>
<p>The look-up table (as with other functions in VWPre) requires a numeric interest area ID column. This can be created directly from the <code>IA_LABEL</code> column, as follows by corresponding the Labels to the IDs.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dat2$IA_ID &lt;-<span class="st"> </span><span class="kw">case_when</span>(
  dat2$IA_LABEL ==<span class="st"> &quot;Target&quot;</span> ~<span class="st"> </span><span class="dv">1</span>,
  dat2$IA_LABEL ==<span class="st"> &quot;RhymeComp&quot;</span> ~<span class="st"> </span><span class="dv">2</span>,
  dat2$IA_LABEL ==<span class="st"> &quot;OnsetComp&quot;</span> ~<span class="st"> </span><span class="dv">3</span>,
  dat2$IA_LABEL ==<span class="st"> &quot;Distractor&quot;</span> ~<span class="st"> </span><span class="dv">4</span>
)</code></pre></div>
<p>Lastly, select only the required columns for the look-up table.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">LookUpTable &lt;-<span class="st"> </span>dat2 %&gt;%<span class="st"> </span><span class="kw">select</span>(Event, IA_LABEL, IA_ID, Top, Bottom, Left, Right)</code></pre></div>
<p>The table should now look similar to the following.</p>
<table>
<thead>
<tr class="header">
<th align="left">Event</th>
<th align="left">IA_LABEL</th>
<th align="right">IA_ID</th>
<th align="right">Top</th>
<th align="right">Bottom</th>
<th align="right">Left</th>
<th align="right">Right</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">14001.1</td>
<td align="left">Target</td>
<td align="right">1</td>
<td align="right">40</td>
<td align="right">340</td>
<td align="right">460</td>
<td align="right">760</td>
</tr>
<tr class="even">
<td align="left">14001.1</td>
<td align="left">RhymeComp</td>
<td align="right">2</td>
<td align="right">740</td>
<td align="right">1040</td>
<td align="right">1160</td>
<td align="right">1460</td>
</tr>
<tr class="odd">
<td align="left">14001.1</td>
<td align="left">OnsetComp</td>
<td align="right">3</td>
<td align="right">40</td>
<td align="right">340</td>
<td align="right">1160</td>
<td align="right">1460</td>
</tr>
<tr class="even">
<td align="left">14001.1</td>
<td align="left">Distractor</td>
<td align="right">4</td>
<td align="right">740</td>
<td align="right">1040</td>
<td align="right">460</td>
<td align="right">760</td>
</tr>
<tr class="odd">
<td align="left">14001.2</td>
<td align="left">Target</td>
<td align="right">1</td>
<td align="right">40</td>
<td align="right">340</td>
<td align="right">1160</td>
<td align="right">1460</td>
</tr>
<tr class="even">
<td align="left">14001.2</td>
<td align="left">RhymeComp</td>
<td align="right">2</td>
<td align="right">740</td>
<td align="right">1040</td>
<td align="right">1160</td>
<td align="right">1460</td>
</tr>
<tr class="odd">
<td align="left">14001.2</td>
<td align="left">OnsetComp</td>
<td align="right">3</td>
<td align="right">40</td>
<td align="right">340</td>
<td align="right">460</td>
<td align="right">760</td>
</tr>
<tr class="even">
<td align="left">14001.2</td>
<td align="left">Distractor</td>
<td align="right">4</td>
<td align="right">740</td>
<td align="right">1040</td>
<td align="right">460</td>
<td align="right">760</td>
</tr>
<tr class="odd">
<td align="left">14001.3</td>
<td align="left">Target</td>
<td align="right">1</td>
<td align="right">740</td>
<td align="right">1040</td>
<td align="right">460</td>
<td align="right">760</td>
</tr>
<tr class="even">
<td align="left">14001.3</td>
<td align="left">RhymeComp</td>
<td align="right">2</td>
<td align="right">40</td>
<td align="right">340</td>
<td align="right">460</td>
<td align="right">760</td>
</tr>
<tr class="odd">
<td align="left">14001.3</td>
<td align="left">OnsetComp</td>
<td align="right">3</td>
<td align="right">740</td>
<td align="right">1040</td>
<td align="right">1160</td>
<td align="right">1460</td>
</tr>
<tr class="even">
<td align="left">14001.3</td>
<td align="left">Distractor</td>
<td align="right">4</td>
<td align="right">40</td>
<td align="right">340</td>
<td align="right">1160</td>
<td align="right">1460</td>
</tr>
</tbody>
</table>
</div>
<div id="preforming-the-gaze-remapping" class="section level3">
<h3>Preforming the gaze remapping</h3>
<p>Make sure your sample report has been loaded appropriately and that you have carried out the function <code>prep_data</code>. This will ensure that the necessary columns are coded appropriately and that the Event column has been created. Then simply feed that data frame, along with the lookup table, to the function <code>custom_ia</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">remapped &lt;-<span class="st"> </span><span class="kw">custom_ia</span>(<span class="dt">data =</span> sampledata, <span class="dt">iaLookup =</span> LookUpTable)</code></pre></div>
<p>This function examines the gaze coordinates of each sample for each event and evaluates which interest area it falls in, based on the information contained in the lookup table. Because this works rowwise, it can take a bit of time for large datasets.</p>
<p>After the remapping is complete, you are then ready to continue preprocessing your data. Please refer to the vignette <code>SR_Basic_Preprocessing</code> for further details.</p>
</div>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
